<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="+-i:2R4#nzPI({vF,;xC">MAX30100_INT_STATUS</variable><variable id="vGdFE4S`Y1Bc+aQ]km)#">MAX30100_INT_ENABLE</variable><variable id="Bvww5r{4Rmfn1U/?z`/j">MAX30100_FIFO_WR_PTR</variable><variable id="_ALj+g9I(qR:F)-^R)X[">MAX30100_OVRFLOW_CTR</variable><variable id="_XfUt-cL0:l~hlbQk[as">MAX30100_FIFO_RD_PTR</variable><variable id="xNr4hLR2~7Dqc9#Ho5at">MAX30100_FIFO_DATA</variable><variable id="VG/h$n4n#aai+4gw9X:3">MAX30100_MODE_CONFIG</variable><variable id="x@|zBZmb#j.erC}Lmr]-">MAX30100_SPO2_CONFIG</variable><variable id="R55CVFw0b#%nk[hM,Sc+">MAX30100_LED_CONFIG</variable><variable id="9QdA{M]3(;!}y}Fws}H:">MAX30100_TEMP_INTG</variable><variable id="UvlC:-IRZ|IRwBx2}IAo">MAX30100_TEMP_FRAC</variable><variable id="EStwEf[-9ehR*YQ~H#-o">MAX30100_REV_ID</variable><variable id="([zp{P~t|(u3*`q#ZO_E">MAX30100_PART_ID</variable><variable id="R:f}rh}29eZ%hc7%bP0w">MAX30100_I2C_ADDRESS</variable></variables><comment id="#T=1E6khF_+N[VH{w3*!" data="0" x="1008" y="0" h="120" w="450">0xAE = 174 I2C address of the MAX30105 device</comment><block type="pxt-on-start" id="TfxxQN^:}U^Y2T3oO`?Z" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="pl)mMLO|q2PhZRdNmW,r"><field name="VAR" id="+-i:2R4#nzPI({vF,;xC">MAX30100_INT_STATUS</field><comment pinned="false" h="80" w="160">Which interrupts are tripped</comment><value name="VALUE"><shadow type="math_number" id="_f0MQi)UXZZ0?Q7RJog5"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="l9=J:fUnpp~DeKkD+x3/"><field name="VAR" id="vGdFE4S`Y1Bc+aQ]km)#">MAX30100_INT_ENABLE</field><comment pinned="false" h="80" w="160">Which interrupts are active</comment><value name="VALUE"><shadow type="math_number" id="AdAvra#`Jd*m::yQ}}{."><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="^sSq]zzbuajQ}|(;PD_W"><field name="VAR" id="Bvww5r{4Rmfn1U/?z`/j">MAX30100_FIFO_WR_PTR</field><comment pinned="false" h="80" w="160">Where data is being written</comment><value name="VALUE"><shadow type="math_number" id="kY`w^?OdH^RnXU(6z~fM"><field name="NUM">2</field></shadow></value><next><block type="variables_set" id="V3tGI%?FffZ$DQYA+iyr"><field name="VAR" id="_ALj+g9I(qR:F)-^R)X[">MAX30100_OVRFLOW_CTR</field><comment pinned="false" h="80" w="160">Number of lost samples</comment><value name="VALUE"><shadow type="math_number" id="RICI:htbS/(M*F5JNgmR"><field name="NUM">3</field></shadow></value><next><block type="variables_set" id="MM$]i^1pR#C|7G-_#:(/"><field name="VAR" id="_XfUt-cL0:l~hlbQk[as">MAX30100_FIFO_RD_PTR</field><comment pinned="false" h="80" w="160">Where to read from</comment><value name="VALUE"><shadow type="math_number" id="JPb}EWa`cQC9M7JY0Kp{"><field name="NUM">4</field></shadow></value><next><block type="variables_set" id="BS(p,RjnC?cVssc}PhtV"><field name="VAR" id="xNr4hLR2~7Dqc9#Ho5at">MAX30100_FIFO_DATA</field><comment pinned="false" h="80" w="160">Ouput data buffer</comment><value name="VALUE"><shadow type="math_number" id="w@r/}3|#kBb)wy_XMtYw"><field name="NUM">5</field></shadow></value><next><block type="variables_set" id="fzEd;~Lw@DCm7xW;Mu?l"><field name="VAR" id="VG/h$n4n#aai+4gw9X:3">MAX30100_MODE_CONFIG</field><comment pinned="false" h="80" w="160">Control register</comment><value name="VALUE"><shadow type="math_number" id="wD[cpzbcHME56j=X3#Hq"><field name="NUM">6</field></shadow></value><next><block type="variables_set" id="[l7za}w:`SmT5wiWJ5po"><field name="VAR" id="x@|zBZmb#j.erC}Lmr]-">MAX30100_SPO2_CONFIG</field><comment pinned="false" h="80" w="160">Oximetry settings</comment><value name="VALUE"><shadow type="math_number" id="[}6+4P6A{HC7YJvyfRTg"><field name="NUM">7</field></shadow></value><next><block type="variables_set" id="SHEkk-rm`NkYpSW(}c}D"><field name="VAR" id="R55CVFw0b#%nk[hM,Sc+">MAX30100_LED_CONFIG</field><comment pinned="false" h="80" w="160">Pulse width and power of LEDs</comment><value name="VALUE"><shadow type="math_number" id="3]uO=G{fk:C0IN51sXM}"><field name="NUM">9</field></shadow></value><next><block type="variables_set" id="wyc8NwywUvdrb4|wBuNE"><field name="VAR" id="9QdA{M]3(;!}y}Fws}H:">MAX30100_TEMP_INTG</field><comment pinned="false" h="80" w="160">Temperature value, whole number</comment><value name="VALUE"><shadow type="math_number" id="T39Xv;jK*Y/{0FeJwR$E"><field name="NUM">22</field></shadow></value><next><block type="variables_set" id="tS6%:xBKRD@RC}vdmh:B"><field name="VAR" id="UvlC:-IRZ|IRwBx2}IAo">MAX30100_TEMP_FRAC</field><comment pinned="false" h="80" w="160">Temperature value, fraction</comment><value name="VALUE"><shadow type="math_number" id="Kz5[fv?:xOa3zHzx|u5V"><field name="NUM">23</field></shadow></value><next><block type="variables_set" id="N$5NX16`eGsR*Yfol;cE"><field name="VAR" id="EStwEf[-9ehR*YQ~H#-o">MAX30100_REV_ID</field><comment pinned="false" h="80" w="160">Part revision</comment><value name="VALUE"><shadow type="math_number" id="0PFI!N6aC{S#J|`|/4nI"><field name="NUM">254</field></shadow></value><next><block type="variables_set" id="UbYVZ{c82}w809l@=w5)"><field name="VAR" id="([zp{P~t|(u3*`q#ZO_E">MAX30100_PART_ID</field><comment pinned="false" h="80" w="160">Part ID, normally 0x11</comment><value name="VALUE"><shadow type="math_number" id="EP:F8wHJ!aDU4EYXS+y3"><field name="NUM">255</field></shadow></value><next><block type="variables_set" id="8K#0RtXwL8NbH?mml@5O"><field name="VAR" id="R:f}rh}29eZ%hc7%bP0w">MAX30100_I2C_ADDRESS</field><comment pinned="false" h="80" w="160">0x57 =  87 I2C address of the MAX30100 device</comment><value name="VALUE"><shadow type="math_number" id="{Z5xd)BR{#Y5V.TB$Qi@"><field name="NUM">87</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="5rZ[*FPQS*Mg8hM[hofF" x="548" y="0"><mutation name="i2cwrite" functionid="Hlp2nISYNq.ZA=(YgKyN"><arg name="addr" id="x8t3upmkw9vigk5cliuf" type="number"/><arg name="reg" id="2hxpbbbroehrwopp3hjsh" type="number"/><arg name="value" id="9wj9ne2xmjgiutg8u3nc" type="number"/></mutation><field name="function_name">i2cwrite</field><comment pinned="false" h="80" w="160">NG:pins.i2cWriteNumber(addr, reg, NumberFormat.UInt8BE, true);&#10;NG:pins.i2cWriteNumber(addr, value, NumberFormat.UInt8BE, false);&#10;let buf = pins.createBuffer(2);&#10;buf[0] = reg;&#10;buf[1] = value;&#10;pins.i2cWriteBuffer(addr, buf, false);</comment><data>0</data><value name="x8t3upmkw9vigk5cliuf"><shadow type="argument_reporter_number" id="@BjBho]U$?IeO~Tfjil|"><field name="VALUE">addr</field></shadow></value><value name="2hxpbbbroehrwopp3hjsh"><shadow type="argument_reporter_number" id="P/{}24B0)QtuYqt(zk7!"><field name="VALUE">reg</field></shadow></value><value name="9wj9ne2xmjgiutg8u3nc"><shadow type="argument_reporter_number" id="hJALQnS:cbP~!tncdNRu"><field name="VALUE">value</field></shadow></value><statement name="STACK"><block type="i2c_writenumber" id="Vw27-:XFd||}s|SRyjd5"><field name="format">NumberFormat.UInt16BE</field><value name="address"><block type="argument_reporter_number" id="W5)~GdR#MXtE7ZFzJxvb"><field name="VALUE">addr</field></block></value><value name="value"><block type="math_arithmetic" id="6.{kIup~.I*)42~M[7Sn"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="ARmn0E*9.dVAtr{2R!|8"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="uIFTbZNrWT|l#Xd5yg*A"><field name="VALUE">reg</field></block></value><value name="B"><shadow type="math_number" id="X-NYv}c?X5JDJu3J%UUh"><field name="NUM">256</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="K}X1OKD.XM4OIUQi%+xh"><field name="VALUE">value</field></block></value></block></value></block></statement></block><block type="function_definition" id="y]qvTv/lq?2rQT3QqSE-" x="1503" y="0"><mutation name="i2cread" functionid="R![H$X#o(1drexhtmr9x"><arg name="addr" id="2uqkbb4tjklwsjms7dbr8h" type="number"/><arg name="reg" id="znib5na3na4vgwugaiz" type="number"/></mutation><field name="function_name">i2cread</field><comment pinned="false" h="80" w="160">let X&#10;let buf = pins.createBufferFromArray([X]) // ex. [X, Y, Z]&#10;buf = pins.i2cReadBuffer(addr, 1)&#10;return buf[0]</comment><value name="2uqkbb4tjklwsjms7dbr8h"><shadow type="argument_reporter_number" id="=c=sOz_wV94*l;rY%uB/"><field name="VALUE">addr</field></shadow></value><value name="znib5na3na4vgwugaiz"><shadow type="argument_reporter_number" id="k%[O}[7$AtNP5M-x)^1*"><field name="VALUE">reg</field></shadow></value><statement name="STACK"><block type="i2c_writenumber" id="1pR.Bojyozc2^kX@Io-."><field name="format">NumberFormat.UInt8BE</field><value name="address"><block type="argument_reporter_number" id="hp7l9FqD}uF=|:*nnb9f"><field name="VALUE">addr</field></block></value><value name="value"><block type="argument_reporter_number" id="dKMTQZ?J._KVNcU/RolK"><field name="VALUE">reg</field></block></value><next><block type="function_return" id="eFS6x/bY=Ve)8$GMps_h"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="pins_i2c_readnumber" id="%}%8uwrYdwRnV:F8y$bd"><field name="format">NumberFormat.UInt8BE</field><value name="address"><block type="argument_reporter_number" id="eURKM-!YiOd5Isc@.E,a"><field name="VALUE">addr</field></block></value></block></value></block></next></block></statement></block><block type="device_forever" id="Rv`[ns(:7VF/|USQ{ag0" x="0" y="797"><statement name="HANDLER"><block type="device_pause" id="rWREmRLoU5LCDR,8H]Ct"><value name="pause"><shadow type="timePicker" id="z1em6`;q+tdSx2$la(R."><field name="ms">100</field></shadow></value><next><block type="device_show_number" id="FGTyLKF={xBo5@i$V%1k"><value name="number"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="i#(K1-Ztogx2WMu4QUql"><mutation name="i2cread" functionid="R![H$X#o(1drexhtmr9x"><arg name="addr" id="2uqkbb4tjklwsjms7dbr8h" type="number"/><arg name="reg" id="znib5na3na4vgwugaiz" type="number"/></mutation><value name="2uqkbb4tjklwsjms7dbr8h"><shadow type="math_number" id="%5FXzg7!IsF1Fsr~?rP4"><field name="NUM">1</field></shadow><block type="variables_get" id="~K2~vFQ|t|YDkcQ(ZQ+;"><field name="VAR" id="R:f}rh}29eZ%hc7%bP0w">MAX30100_I2C_ADDRESS</field></block></value><value name="znib5na3na4vgwugaiz"><shadow type="math_number" id="?Tqh/E.EQK.QPl?_4Gsr"><field name="NUM">1</field></shadow><block type="variables_get" id="77RzrRvS`.He#1nAby3G"><field name="VAR" id="R55CVFw0b#%nk[hM,Sc+">MAX30100_LED_CONFIG</field></block></value></block></value><next><block type="device_pause" id="gJ:tj8P^vsEc4U(oU0fP"><value name="pause"><shadow type="timePicker" id="oXde:3t3-c+;[@^[JR,*"><field name="ms">100</field></shadow></value></block></next></block></next></block></statement></block></xml>